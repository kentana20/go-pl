第四章: コンポジット型
---

基本型を組み合わせることで作成できるコンポジット型。

- 配列
- スライス
- マップ
- 構造体

の4種。配列と構造体は合成（Aggregate）型。メモリ内で別の値を連結したもの。

- 配列内の要素はすべて同じ型になるが、構造体は不均質
- 配列、構造体は固定サイズだが、スライス、マップは動的サイズ

## 4.1 配列

特定の型の0個以上の固定長列。Goでは配列が直接使われることは稀で、スライスを使うことが多いが、スライスを理解するためには配列の理解が必要。
配列内の個々の要素はインデックス表記でアクセスでき、インデックスは0からはじまる。

```
var a [3]int
fmt.Println(a[0]) // 要素の1つ目
fmt.Println(a[len(a)-1]) // 最後の要素

// 配列リテラルで初期化できる
var q[3]int = [3]int{1,2,3}
var r[3]int = [3]int{1,2} // 3つ目の要素は0になる
```

配列は大きさを含めて型になる。

```
q := [3]int{0,1,2}
q = [4]int{0,1,2,3} // コンパイルエラー
```

インデックスと値の組のリストを指定することも可能。

```
type Currency int

const (
    USD Currency = iota
    EUR
    GBP
    RMB
)

symbol := [...]string{USD: "$", EUR: "€", GBP: "£", RMB: "¥"}
fmt.Println(RMB, symbol[RMB]) // 3 ¥
```
